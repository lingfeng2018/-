<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
#div1{
	width:150px;
	height:150px;
	background:red;
	position:absolute;
	right:0;
	}
</style>

<script>
window.onscroll=function(){
	
var oDiv=document.getElementById('div1');	
var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;

var t=scrollTop+(document.documentElement.clientHeight-oDiv.offsetHeight)/2;

startMove(oDiv,'top',t);	
	}

var timer=null;
function startMove(obj,attr,iTarget){

clearInterval(timer);
timer=setInterval(function(){
	var iCur=parseInt(getStyle(obj,attr));
	var iSpeed=(iTarget-iCur)/8;	
iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed);	

if(iCur==iTarget){
	
	clearInterval(timer);
	}else{
		
	obj.style[attr]=iCur+iSpeed+'px';	
		
		}
	
	
	
	},30);	

	
	}
function getStyle(obj,attr){
	
	if(obj.currentStyle){
		return obj.currentStyle[attr];
		}else{
			
			
		return getComputedStyle(obj,false)[attr];
			}
	
	
	}

</script>
</head>

<body style="height:2000px;">


<div id="div1">   </div>

</body>
</html>
